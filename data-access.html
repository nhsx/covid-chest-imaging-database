<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>National COVID-19 Chest Image Database (NCCID) | Documentation</title><link rel="icon" href="/favicon.ico"/><meta name="next-head-count" content="5"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/covid-chest-imaging-database/_next/static/css/72b169729be2b961.css" as="style"/><link rel="stylesheet" href="/covid-chest-imaging-database/_next/static/css/72b169729be2b961.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/covid-chest-imaging-database/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/covid-chest-imaging-database/_next/static/chunks/webpack-b332f1205e2d16c6.js" defer=""></script><script src="/covid-chest-imaging-database/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/covid-chest-imaging-database/_next/static/chunks/main-ce97b006e71c4ac5.js" defer=""></script><script src="/covid-chest-imaging-database/_next/static/chunks/pages/_app-c220796b45e9077c.js" defer=""></script><script src="/covid-chest-imaging-database/_next/static/chunks/103-db4430827edb81aa.js" defer=""></script><script src="/covid-chest-imaging-database/_next/static/chunks/234-541af733db807726.js" defer=""></script><script src="/covid-chest-imaging-database/_next/static/chunks/685-ac54af423154e38f.js" defer=""></script><script src="/covid-chest-imaging-database/_next/static/chunks/pages/%5Bslug%5D-7178813ab1fa653b.js" defer=""></script><script src="/covid-chest-imaging-database/_next/static/Kp19OSf7eTlhkBZK5owHZ/_buildManifest.js" defer=""></script><script src="/covid-chest-imaging-database/_next/static/Kp19OSf7eTlhkBZK5owHZ/_ssgManifest.js" defer=""></script><script src="/covid-chest-imaging-database/_next/static/Kp19OSf7eTlhkBZK5owHZ/_middlewareManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500;600;700&display=swap">@font-face{font-family:'Inter';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuDyfMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuOKfMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuLyfMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuI6fMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuGKYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcCO3FwrK3iLTeHuS_fvQtMwCp50KnMw2boKoduKmMEVuFuYMZs.woff) format('woff')}@font-face{font-family:'Inter';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:200;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2JL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa0ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0301,U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2ZL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa2pL7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa25L7W0Q5n-wU.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Inter';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/inter/v11/UcC73FwrK3iLTeHuS_fvQtMwCp50KnMa1ZL7W0Q5nw.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next" data-reactroot=""><div class="antialiased"><div class="min-h-full"><nav class="bg-blue-500"><div class="mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl"><div class="flex justify-between py-6"><div class="flex"><a class="flex flex-col space-y-6 md:space-y-4 lg:space-y-0 lg:flex-row lg:items-center lg:space-x-2 flex-shrink-0 text-white" href="/covid-chest-imaging-database"><span><img class="h-10 w-auto" src="/covid-chest-imaging-database/logo-inverted.svg" alt="NCCID"/></span><span class="text-sm lg:text-lg">National COVID-19 Chest Image Database (NCCID)</span></a></div><div class="hidden md:flex"><div class="flex-1 flex items-center space-x-6"><form action="/covid-chest-imaging-database/search" method="GET" class="flex-1 justify-stretch relative"><div class="relative flex-1"><input type="text" name="q" placeholder="Search" class="w-full border-2 pr-16 border-transparent focus:ring-nhsuk-focus focus:ring-4 focus:border-white rounded sm:text-sm" value=""/><div class="absolute right-0 top-0 bottom-0"><button type="submit" class="w-full h-full flex-1 bg-gray-50 rounded-tr rounded-br px-3 text-blue-500 focus:bg-nhsuk-yellow focus:text-black "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" class="w-6 h-6"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path></svg></button></div></div></form><a target="_BLANK" class="rounded-full" href="https://github.com/nhsx/covid-chest-imaging-database"><svg class="w-10 h-10 flex-shrink-0 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 17 16" fill="none"><g clip-path="url(githublogo)"><path fill="currentColor" fill-rule="evenodd" d="M8.18391.249268C3.82241.249268.253906 3.81777.253906 8.17927c0 3.46933 2.279874 6.44313 5.451874 7.53353.3965.0991.49563-.1983.49563-.3965v-1.3878c-2.18075.4956-2.67638-.9912-2.67638-.9912-.3965-.8922-.89212-1.1895-.89212-1.1895-.69388-.4957.09912-.4957.09912-.4957.793.0992 1.1895.793 1.1895.793.69388 1.2887 1.88338.8922 2.27988.6939.09912-.4956.29737-.8921.49562-1.0904-1.78425-.1982-3.5685-.8921-3.5685-3.96496 0-.89212.29738-1.586.793-2.08162-.09912-.19825-.3965-.99125.09913-2.08163 0 0 .69387-.19825 2.18075.793.59475-.19825 1.28862-.29737 1.9825-.29737.69387 0 1.38775.09912 1.98249.29737 1.4869-.99125 2.1808-.793 2.1808-.793.3965 1.09038.1982 1.88338.0991 2.08163.4956.59475.793 1.28862.793 2.08162 0 3.07286-1.8834 3.66766-3.66764 3.86586.29737.3965.59474.8921.59474 1.586v2.1808c0 .1982.0991.4956.5948.3965 3.172-1.0904 5.4518-4.0642 5.4518-7.53353-.0991-4.3615-3.6676-7.930002-8.02909-7.930002z" clip-rule="evenodd" class="jsx-1651122719"></path></g><defs><clipPath id="githublogo"><path fill="transparent" d="M0 0h15.86v15.86H0z" transform="translate(.253906 .0493164)"></path></clipPath></defs></svg></a></div></div><div class="-mr-2 flex items-start md:hidden"><button class="bg-white inline-flex items-center justify-center p-2 text-nhsuk-text hover:bg-gray-100 focus:bg-nhsuk-yellow focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-nhsuk-yellow" id="headlessui-disclosure-button-undefined" type="button" aria-expanded="false"><span class="sr-only">Open main menu</span><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" aria-hidden="true" class="block h-6 w-6"><path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16"></path></svg></button></div></div><div class="hidden md:block"><div class="border-t border-white border-opacity-20"><nav class="flex flex-col space-y-2 md:space-y-0 md:flex-row md:space-x-6"><a class="border-transparent group flex items-center px-4 py-4 border-l-4 md:border-l-0 text-white hover:underline text-base focus:bg-nhsuk-yellow focus:text-black focus:border-black md:focus:border-b-4 md:focus:pb-3" href="/covid-chest-imaging-database">Overview</a><a class="md:border-b-4 md:pb-3 border-white font-semibold group flex items-center px-4 py-4 border-l-4 md:border-l-0 text-white hover:underline text-base focus:bg-nhsuk-yellow focus:text-black focus:border-black md:focus:border-b-4 md:focus:pb-3" href="/covid-chest-imaging-database/data-access">Technical Documentation</a><a class="border-transparent group flex items-center px-4 py-4 border-l-4 md:border-l-0 text-white hover:underline text-base focus:bg-nhsuk-yellow focus:text-black focus:border-black md:focus:border-b-4 md:focus:pb-3" href="/covid-chest-imaging-database/nccid-collaborative">Other Information</a><a class="border-transparent group flex items-center px-4 py-4 border-l-4 md:border-l-0 text-white hover:underline text-base focus:bg-nhsuk-yellow focus:text-black focus:border-black md:focus:border-b-4 md:focus:pb-3" href="/covid-chest-imaging-database/experiments">Experiments</a></nav></div></div></div></nav><div class=""><main class="flex-1"><div class="mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl"><div class="flex flex-col py-8 lg:flex-row lg:py-12"><div class="hidden lg:flex relative w-80 flex-shrink-0"><div class="-mt-6"><div class="sticky top-0 pt-6"><div class="flex-grow flex flex-col space-y-8"><div class="space-y-4"><div class="flex items-center space-x-3"><div><div class="bg-blue-500 rounded p-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" class="w-4 h-4 text-white"><path fill-rule="evenodd" d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z" clip-rule="evenodd"></path></svg></div></div><div><p class="font-semibold text-gray-400 uppercase tracking-wider text-xs">Technical Documentation</p></div></div><nav class="mb-4 space-y-1 border-l border-gray-200 ml-3"><a class="underline font-medium -ml-1 pl-7 text-blue-500 relative group flex items-center py-2 px-6 text-base" href="/covid-chest-imaging-database/data-access"><div class="flex absolute -left-1 top-1/2 -mt-2 rounded-full border w-4 h-4 bg-white p-px"><div class="rounded-full bg-blue-500 flex-1"></div></div>Accessing the NCCID data</a><a class="text-gray-500 relative group flex items-center py-2 px-6 text-base" href="/covid-chest-imaging-database/resources">Resources for data users</a></nav></div><div class="space-y-4"><div class="flex items-center space-x-3"><div><div class="bg-blue-500 rounded p-1"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true" class="w-4 h-4 text-white"><path d="M9 4.804A7.968 7.968 0 005.5 4c-1.255 0-2.443.29-3.5.804v10A7.969 7.969 0 015.5 14c1.669 0 3.218.51 4.5 1.385A7.962 7.962 0 0114.5 14c1.255 0 2.443.29 3.5.804v-10A7.968 7.968 0 0014.5 4c-1.255 0-2.443.29-3.5.804V12a1 1 0 11-2 0V4.804z"></path></svg></div></div><div><p class="font-semibold text-gray-400 uppercase tracking-wider text-xs">Other Information</p></div></div><nav class="mb-4 space-y-1 border-l border-gray-200 ml-3"><a class="text-gray-500 relative group flex items-center py-2 px-6 text-base" href="/covid-chest-imaging-database/nccid-collaborative">NCCID Collaborative</a><a class="text-gray-500 relative group flex items-center py-2 px-6 text-base" href="/covid-chest-imaging-database/project-summaries">NCCID project summaries</a><a class="text-gray-500 relative group flex items-center py-2 px-6 text-base" href="/covid-chest-imaging-database/performance-assessment-call">Performance Assessment Call</a><a class="text-gray-500 relative group flex items-center py-2 px-6 text-base" href="/covid-chest-imaging-database/other-datasets">Links to other datasets</a><a class="text-gray-500 relative group flex items-center py-2 px-6 text-base" href="/covid-chest-imaging-database/stats">Training data statistics</a></nav></div></div></div></div></div><div class="lg:hidden flex flex-col mb-8"><button class="bg-gray-100 flex justify-center items-center p-4 text-gray-500 underline" id="headlessui-disclosure-button-undefined" type="button" aria-expanded="false">Show menu</button></div><div class="flex-1 space-y-10"><div class="prose max-w-none"><h1>Accessing the NCCID data</h1>
<p>The data is stored in <a href="https://aws.amazon.com/s3/">Amazon Web Services
S3</a>. Once your organisation has been granted
access, NHSX will send AWS credentials by encrypted email. The
credentials will allow accessing the data.</p>
<p>We recommend accessing the data using the <a href="https://aws.amazon.com/cli/">Amazon Web Services Command
Line Interface (AWS CLI)</a>, or client
libraries that interact with S3 such as
<a href="https://boto3.amazonaws.com/v1/documentation/api/latest/index.html">Boto3</a>.
Some examples are provided below.</p>
<h2>Warehouse structure</h2>
<p>The warehouse data is stored in the <code>nccid-data-warehouse-prod</code> S3
bucket, and access is granted to different
<a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingMetadata.html#object-keys">prefixes</a>.</p>
<p>The warehouse training data is organised into prefixes within the
<code>training</code> prefix, based on image types (or &quot;modality&quot;), patient ID,
and date as follows:</p>
<pre><code># CT images &amp; metadata
training/ct/PATIENT_ID/STUDY_UID/SERIES_UID/IMAGE_UUID.dcm
training/ct-metadata/PATIENT_ID/STUDY_UID/SERIES_UID/IMAGE_UUID.json

# MRI images &amp; metadata
training/mri/PATIENT_ID/STUDY_UID/SERIES_UID/IMAGE_UUID.dcm
training/mri-metadata/PATIENT_ID/STUDY_UID/SERIES_UID/IMAGE_UUID.json

# X-ray images &amp; metadata
training/xray/PATIENT_ID/STUDY_UID/SERIES_UID/IMAGE_UUID.dcm
training/xray-metadata/PATIENT_ID/STUDY_UID/SERIES_UID/IMAGE_UUID.json

# Patient clinical data
training/data/PATIENT_ID/status_DATE.json
training/data/PATIENT_ID/data_DATE.json
</code></pre>
<ul>
<li>The <code>ct</code>, <code>mri</code>, <code>xray</code> folders hold the
<a href="https://www.dicomstandard.org/">DICOM</a> images of the given kind.</li>
<li>The de-identified <code>Patient_ID</code> value is equivalent to the
<code>(0010,0020)</code> DICOM
<a href="https://www.dicomlibrary.com/dicom/dicom-tags/">tag</a> from the
images and <code>Pseudonym</code> field from the <code>status_DATE.json</code> and
<code>data_DATE.json</code> clinical data files.</li>
<li><code>STUDY_UID</code> and <code>SERIES_UID</code> are equivalent to the <code>(0020,000D)</code> and
<code>(0020,000E)</code> DICOM tags in the given images.</li>
<li>The <code>...-metadata</code> folders hold the DICOM tags exported as JSON from
the corresponding image file <code>IMAGE_UUID.dcm</code> into <code>IMAGE_UUID.json</code>
to enable quick parsing without the need to download the given image</li>
<li>The <code>data</code> folder holds the patient medical data, <code>status_DATE.json</code>
files for negative results, and <code>data_DATE.json</code> file/files for
positive results. <code>DATE</code> is formatted as <code>YYYY-MM-DD</code>, for example
<code>2020-04-21</code>.</li>
</ul>
<div class="relative mt-10"><div class="inline-block bg-nhsuk-yellow text-nhsuk-text p-8 py-3 text-xl font-semibold">Data Delay</div><div class="p-8 text-lg text-nhsuk-text bg-nhsuk-pale-yellow border border-nhsuk-yellow pt-10 -mt-6">Over time there will be more data added to the warehouse, and they will show up as new patient folders, and new image folders with new images. We expect new data will be made available approximately twice a week.</div></div>
<h2>Using the AWS Command Line Interface</h2>
<p>The simplest way to retrieve the imaging data is using the AWS CLI:</p>
<pre><code class="language-shell">$ aws s3 sync s3://nccid-data-warehouse-prod/training/ct ct
download: s3://nccid-data-warehouse-prod/training/ct/Covid1/1.2.3/A.B.C/x.y.z.dcm to ct/Covid1/1.2.3/A.B.C/x.y.z.dcm
...
</code></pre>
<p>Repeating this for all the relevant directories you would download the
latest data and images that you don&#x27;t have locally:</p>
<pre><code class="language-shell"># Remove items from this array that you don&#x27;t want to download
modalities=(&quot;data&quot; &quot;ct&quot; &quot;ct-metadata&quot; &quot;mri&quot; &quot;mri-metadata&quot; &quot;xray&quot; &quot;xray-metadata&quot;)
for modality in ${modalities[@]}; do
aws s3 sync &quot;s3://nccid-data-warehouse-prod/training/${modality}&quot; &quot;${modality}&quot;
done
</code></pre>
<p>In the above example <a href="https://www.gnu.org/software/bash/manual/html_node/Arrays.html">Bash
arrays</a>
were used (the <code>modalities</code> variable).</p>
<p>For more information check the <a href="https://docs.aws.amazon.com/cli/index.html">AWS CLI
documentation</a>. If you
encounter any problems, open an issue on our <a href="https://github.com/nhsx/covid-chest-imaging-database/issues">GitHub
repository</a>.</p>
<h2>Using Python and Boto3</h2>
<p>If you are scripting access to files, we recommend using Python and
<a href="https://boto3.amazonaws.com/v1/documentation/api/latest/index.html">Boto3</a>.</p>
<p>For more information check the <a href="https://boto3.amazonaws.com/v1/documentation/api/latest/index.html">Boto3
documentation</a>.
If you encounter any problems, open an issue on our <a href="https://github.com/nhsx/covid-chest-imaging-database/issues">GitHub
repository</a>.</p>
<p>Below you may find examples of accessing the data in various ways with
Python and Boto3.</p>
<h3>Listing files</h3>
<pre><code class="language-python">import boto3

s3 = boto3.resource(&quot;s3&quot;)
bucket = s3.Bucket(name=&quot;nccid-data-warehouse-prod&quot;)

# List the objects at a given prefix
for obj in bucket.objects.filter(Prefix=&quot;training/data&quot;):
   print(f&quot;{obj.key}\t{obj.size}\t{obj.last_modified}&quot;)
</code></pre>
<p>This will result in a list such as:</p>
<pre><code class="language-python">training/data/Covid1/data_2020-05-14.json       1416    2020-05-22 13:38:30+00:00
training/data/Covid6/data_2020-05-15.json       1560    2020-05-22 13:38:31+00:00
....
</code></pre>
<h3>Downloading image files</h3>
<p>To download files using Boto3, if you don&#x27;t have them locally already:</p>
<pre><code class="language-python">import os
import boto3

BUCKET_NAME = &quot;nccid-data-warehouse-prod&quot;

def downloadPrefixFromS3(bucketName, prefix):
   &quot;&quot;&quot;This function takes a remote S3 bucket and a prefix,
   and downloads all the objects from there, that are not
   already stored locally.
   &quot;&quot;&quot;
   s3 = boto3.resource(&quot;s3&quot;)
   bucket = s3.Bucket(name=bucketName)
   for obj in bucket.objects.filter(Prefix=prefix):
      key = obj.key
      if os.path.exists(key) and os.stat(key).st_size == obj.size:
            # If the file exists and it&#x27;s the right size, we should be done
            print(f&quot;{key}: already have locally&quot;)
            continue
      if not os.path.exists(os.path.dirname(key)):
            os.makedirs(os.path.dirname(key))
      print(f&quot;{key}: downloading&quot;)
      bucket.download_file(key, key)

# Download a specific prefix. Don&#x27;t forget the final &quot;/&quot; to limit to the exact prefix
downloadPrefixFromS3(BUCKET_NAME, &quot;training/mri/&quot;)
</code></pre>
<p>The above code will create the folders corresponding to the remote
prefixes in the current working directory as needed, and only download
files that are not yet downloaded (similar to <code>aws s3 sync</code>.</p>
<h3>Opening image files</h3>
<p>You can also access a remote DICOM image, download into memory and open
it with, for example with the <a href="https://github.com/pydicom/pydicom">PyDICOM
library</a>:</p>
<pre><code class="language-python">from io import BytesIO

import boto3
import pydicom

s3 = boto3.resource(&quot;s3&quot;)
bucket = s3.Bucket(name=&quot;nccid-data-warehouse-staging&quot;)

image_name = &quot;training/xray/Covid1/1.2.3/A.B.C/x.y.z.dcm&quot;

with BytesIO() as tmp:
   print(f&quot;Downloading: {image_name}&quot;)
   bucket.Object(key=image_name).download_fileobj(tmp)
   tmp.seek(0)
   # Do not read the image only the metadata here.
   # To also read the image, remove set stop_before_pixels to False
   image_data = pydicom.dcmread(tmp, stop_before_pixels=True)
   print(image_data)
</code></pre>
<p>This code would result in an output such as:</p>
<pre><code>Downloading: training/xray/Covid1/1.2.3/A.B.C/x.y.z.dcm
(0008, 0005) Specific Character Set              CS: &#x27;ISO_IR 100&#x27;
(0008, 0008) Image Type                          CS: [&#x27;ORIGINAL&#x27;, &#x27;PRIMARY&#x27;, &#x27;&#x27;, &#x27;RT&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;&#x27;, &#x27;150000&#x27;]
(0008, 0016) SOP Class UID                       UI: Digital X-Ray Image Storage - For Presentation
...
</code></pre>
<h3>Loading a JSON file</h3>
<p>Similarly to the image download above, JSON files can also be directly
accessed, using the <a href="https://docs.python.org/3/library/json.html">built in Python json
library</a> such as:</p>
<pre><code class="language-python">import json
from io import BytesIO

import boto3

s3 = boto3.resource(&quot;s3&quot;)
bucket = s3.Bucket(name=&quot;nccid-data-warehouse-prod&quot;)

json_name = &quot;training/data/Covid1/data_2020-05-14.json

with BytesIO() as tmp:
   print(f&quot;Downloading: {json_name}&quot;)
   bucket.Object(key=json_name).download_fileobj(tmp)
   tmp.seek(0)
   json_data = json.load(tmp)
   print(json.dumps(json_data, indent=4, sort_keys=True))
</code></pre>
<p>The output of the above code would be similar to this:</p>
<pre><code>Downloading: training/data/Covid1/data_2020-05-14.json
{
   &quot;Pseudonym&quot;: &quot;Covid1&quot;,
   ...
}
</code></pre></div><div class="flex justify-between items-center"><div></div><div><a class="flex-shrink-0 inline-flex justify-center items-center px-4 py-3 text-lg duration-100 font-semibold rounded shadow-nhsuk-button focus:bg-nhsuk-focus focus:text-nhsuk-text active:shadow-none  bg-green-500 text-white hover:bg-green-600" href="/covid-chest-imaging-database/resources">Next</a></div></div></div></div></div></main></div></div><div class="bg-gray-200 text-gray-500 border-t-4 border-blue-500 py-8 md:py-10"><div class="mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl"><div class="space-y-10 sm:space-y-6"><div class="flex flex-col space-y-6 md:space-y-0 md:space-x-10 md:flex-row md:justify-between md:items-start"><div class="space-y-2 md:space-y-0 -ml-4"><a class="block md:inline-block underline px-4 pb-4" href="/covid-chest-imaging-database">Overview</a><a class="block md:inline-block underline px-4 pb-4" href="/covid-chest-imaging-database/data-access">Accessing the NCCID data</a><a class="block md:inline-block underline px-4 pb-4" href="/covid-chest-imaging-database/resources">Resources for data users</a><a class="block md:inline-block underline px-4 pb-4" href="/covid-chest-imaging-database/nccid-collaborative">NCCID Collaborative</a><a class="block md:inline-block underline px-4 pb-4" href="/covid-chest-imaging-database/project-summaries">NCCID project summaries</a><a class="block md:inline-block underline px-4 pb-4" href="/covid-chest-imaging-database/performance-assessment-call">Performance Assessment Call</a><a class="block md:inline-block underline px-4 pb-4" href="/covid-chest-imaging-database/other-datasets">Links to other datasets</a><a class="block md:inline-block underline px-4 pb-4" href="/covid-chest-imaging-database/stats">Training data statistics</a></div><div class="flex-shrink-0">Â© Copyright 2020 NHSX</div></div><div class="flex flex-col space-y-3 sm:flex-row sm:items-center sm:space-y-0 sm:space-x-3 text-base"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 483.2 195.7" height="17" width="41" focusable="false"><path fill="currentColor" d="M421.5 142.8V.1l-50.7 32.3v161.1h112.4v-50.7zm-122.3-9.6A47.12 47.12 0 0 1 221 97.8c0-26 21.1-47.1 47.1-47.1 16.7 0 31.4 8.7 39.7 21.8l42.7-27.2A97.63 97.63 0 0 0 268.1 0c-36.5 0-68.3 20.1-85.1 49.7A98 98 0 0 0 97.8 0C43.9 0 0 43.9 0 97.8s43.9 97.8 97.8 97.8c36.5 0 68.3-20.1 85.1-49.7a97.76 97.76 0 0 0 149.6 25.4l19.4 22.2h3v-87.8h-80l24.3 27.5zM97.8 145c-26 0-47.1-21.1-47.1-47.1s21.1-47.1 47.1-47.1 47.2 21 47.2 47S123.8 145 97.8 145"></path></svg><span class="">All content is available under the Open Government Licence v3.0, except where otherwise stated.</span></div></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"source":{"compiledSource":"/*@jsxRuntime automatic @jsxImportSource react*/\nconst {Fragment: _Fragment, jsx: _jsx, jsxs: _jsxs} = arguments[0];\nconst {useMDXComponents: _provideComponents} = arguments[0];\nfunction MDXContent(props = {}) {\n  const {wrapper: MDXLayout} = Object.assign({}, _provideComponents(), props.components);\n  return MDXLayout ? _jsx(MDXLayout, Object.assign({}, props, {\n    children: _jsx(_createMdxContent, {})\n  })) : _createMdxContent();\n  function _createMdxContent() {\n    const _components = Object.assign({\n      h1: \"h1\",\n      p: \"p\",\n      a: \"a\",\n      h2: \"h2\",\n      code: \"code\",\n      pre: \"pre\",\n      ul: \"ul\",\n      li: \"li\",\n      h3: \"h3\"\n    }, _provideComponents(), props.components), {Alert} = _components;\n    if (!Alert) _missingMdxReference(\"Alert\", true);\n    return _jsxs(_Fragment, {\n      children: [_jsx(_components.h1, {\n        children: \"Accessing the NCCID data\"\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"The data is stored in \", _jsx(_components.a, {\n          href: \"https://aws.amazon.com/s3/\",\n          children: \"Amazon Web Services\\nS3\"\n        }), \". Once your organisation has been granted\\naccess, NHSX will send AWS credentials by encrypted email. The\\ncredentials will allow accessing the data.\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"We recommend accessing the data using the \", _jsx(_components.a, {\n          href: \"https://aws.amazon.com/cli/\",\n          children: \"Amazon Web Services Command\\nLine Interface (AWS CLI)\"\n        }), \", or client\\nlibraries that interact with S3 such as\\n\", _jsx(_components.a, {\n          href: \"https://boto3.amazonaws.com/v1/documentation/api/latest/index.html\",\n          children: \"Boto3\"\n        }), \".\\nSome examples are provided below.\"]\n      }), \"\\n\", _jsx(_components.h2, {\n        children: \"Warehouse structure\"\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"The warehouse data is stored in the \", _jsx(_components.code, {\n          children: \"nccid-data-warehouse-prod\"\n        }), \" S3\\nbucket, and access is granted to different\\n\", _jsx(_components.a, {\n          href: \"https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingMetadata.html#object-keys\",\n          children: \"prefixes\"\n        }), \".\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"The warehouse training data is organised into prefixes within the\\n\", _jsx(_components.code, {\n          children: \"training\"\n        }), \" prefix, based on image types (or \\\"modality\\\"), patient ID,\\nand date as follows:\"]\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          children: \"# CT images \u0026 metadata\\ntraining/ct/PATIENT_ID/STUDY_UID/SERIES_UID/IMAGE_UUID.dcm\\ntraining/ct-metadata/PATIENT_ID/STUDY_UID/SERIES_UID/IMAGE_UUID.json\\n\\n# MRI images \u0026 metadata\\ntraining/mri/PATIENT_ID/STUDY_UID/SERIES_UID/IMAGE_UUID.dcm\\ntraining/mri-metadata/PATIENT_ID/STUDY_UID/SERIES_UID/IMAGE_UUID.json\\n\\n# X-ray images \u0026 metadata\\ntraining/xray/PATIENT_ID/STUDY_UID/SERIES_UID/IMAGE_UUID.dcm\\ntraining/xray-metadata/PATIENT_ID/STUDY_UID/SERIES_UID/IMAGE_UUID.json\\n\\n# Patient clinical data\\ntraining/data/PATIENT_ID/status_DATE.json\\ntraining/data/PATIENT_ID/data_DATE.json\\n\"\n        })\n      }), \"\\n\", _jsxs(_components.ul, {\n        children: [\"\\n\", _jsxs(_components.li, {\n          children: [\"The \", _jsx(_components.code, {\n            children: \"ct\"\n          }), \", \", _jsx(_components.code, {\n            children: \"mri\"\n          }), \", \", _jsx(_components.code, {\n            children: \"xray\"\n          }), \" folders hold the\\n\", _jsx(_components.a, {\n            href: \"https://www.dicomstandard.org/\",\n            children: \"DICOM\"\n          }), \" images of the given kind.\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"The de-identified \", _jsx(_components.code, {\n            children: \"Patient_ID\"\n          }), \" value is equivalent to the\\n\", _jsx(_components.code, {\n            children: \"(0010,0020)\"\n          }), \" DICOM\\n\", _jsx(_components.a, {\n            href: \"https://www.dicomlibrary.com/dicom/dicom-tags/\",\n            children: \"tag\"\n          }), \" from the\\nimages and \", _jsx(_components.code, {\n            children: \"Pseudonym\"\n          }), \" field from the \", _jsx(_components.code, {\n            children: \"status_DATE.json\"\n          }), \" and\\n\", _jsx(_components.code, {\n            children: \"data_DATE.json\"\n          }), \" clinical data files.\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [_jsx(_components.code, {\n            children: \"STUDY_UID\"\n          }), \" and \", _jsx(_components.code, {\n            children: \"SERIES_UID\"\n          }), \" are equivalent to the \", _jsx(_components.code, {\n            children: \"(0020,000D)\"\n          }), \" and\\n\", _jsx(_components.code, {\n            children: \"(0020,000E)\"\n          }), \" DICOM tags in the given images.\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"The \", _jsx(_components.code, {\n            children: \"...-metadata\"\n          }), \" folders hold the DICOM tags exported as JSON from\\nthe corresponding image file \", _jsx(_components.code, {\n            children: \"IMAGE_UUID.dcm\"\n          }), \" into \", _jsx(_components.code, {\n            children: \"IMAGE_UUID.json\"\n          }), \"\\nto enable quick parsing without the need to download the given image\"]\n        }), \"\\n\", _jsxs(_components.li, {\n          children: [\"The \", _jsx(_components.code, {\n            children: \"data\"\n          }), \" folder holds the patient medical data, \", _jsx(_components.code, {\n            children: \"status_DATE.json\"\n          }), \"\\nfiles for negative results, and \", _jsx(_components.code, {\n            children: \"data_DATE.json\"\n          }), \" file/files for\\npositive results. \", _jsx(_components.code, {\n            children: \"DATE\"\n          }), \" is formatted as \", _jsx(_components.code, {\n            children: \"YYYY-MM-DD\"\n          }), \", for example\\n\", _jsx(_components.code, {\n            children: \"2020-04-21\"\n          }), \".\"]\n        }), \"\\n\"]\n      }), \"\\n\", _jsx(Alert, {\n        title: \"Data Delay\",\n        children: \"Over time there will be more data added to the warehouse, and they will show up as new patient folders, and new image folders with new images. We expect new data will be made available approximately twice a week.\"\n      }), \"\\n\", _jsx(_components.h2, {\n        children: \"Using the AWS Command Line Interface\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"The simplest way to retrieve the imaging data is using the AWS CLI:\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-shell\",\n          children: \"$ aws s3 sync s3://nccid-data-warehouse-prod/training/ct ct\\ndownload: s3://nccid-data-warehouse-prod/training/ct/Covid1/1.2.3/A.B.C/x.y.z.dcm to ct/Covid1/1.2.3/A.B.C/x.y.z.dcm\\n...\\n\"\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"Repeating this for all the relevant directories you would download the\\nlatest data and images that you don't have locally:\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-shell\",\n          children: \"# Remove items from this array that you don't want to download\\nmodalities=(\\\"data\\\" \\\"ct\\\" \\\"ct-metadata\\\" \\\"mri\\\" \\\"mri-metadata\\\" \\\"xray\\\" \\\"xray-metadata\\\")\\nfor modality in ${modalities[@]}; do\\naws s3 sync \\\"s3://nccid-data-warehouse-prod/training/${modality}\\\" \\\"${modality}\\\"\\ndone\\n\"\n        })\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"In the above example \", _jsx(_components.a, {\n          href: \"https://www.gnu.org/software/bash/manual/html_node/Arrays.html\",\n          children: \"Bash\\narrays\"\n        }), \"\\nwere used (the \", _jsx(_components.code, {\n          children: \"modalities\"\n        }), \" variable).\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"For more information check the \", _jsx(_components.a, {\n          href: \"https://docs.aws.amazon.com/cli/index.html\",\n          children: \"AWS CLI\\ndocumentation\"\n        }), \". If you\\nencounter any problems, open an issue on our \", _jsx(_components.a, {\n          href: \"https://github.com/nhsx/covid-chest-imaging-database/issues\",\n          children: \"GitHub\\nrepository\"\n        }), \".\"]\n      }), \"\\n\", _jsx(_components.h2, {\n        children: \"Using Python and Boto3\"\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"If you are scripting access to files, we recommend using Python and\\n\", _jsx(_components.a, {\n          href: \"https://boto3.amazonaws.com/v1/documentation/api/latest/index.html\",\n          children: \"Boto3\"\n        }), \".\"]\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"For more information check the \", _jsx(_components.a, {\n          href: \"https://boto3.amazonaws.com/v1/documentation/api/latest/index.html\",\n          children: \"Boto3\\ndocumentation\"\n        }), \".\\nIf you encounter any problems, open an issue on our \", _jsx(_components.a, {\n          href: \"https://github.com/nhsx/covid-chest-imaging-database/issues\",\n          children: \"GitHub\\nrepository\"\n        }), \".\"]\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"Below you may find examples of accessing the data in various ways with\\nPython and Boto3.\"\n      }), \"\\n\", _jsx(_components.h3, {\n        children: \"Listing files\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          children: \"import boto3\\n\\ns3 = boto3.resource(\\\"s3\\\")\\nbucket = s3.Bucket(name=\\\"nccid-data-warehouse-prod\\\")\\n\\n# List the objects at a given prefix\\nfor obj in bucket.objects.filter(Prefix=\\\"training/data\\\"):\\n   print(f\\\"{obj.key}\\\\t{obj.size}\\\\t{obj.last_modified}\\\")\\n\"\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"This will result in a list such as:\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          children: \"training/data/Covid1/data_2020-05-14.json       1416    2020-05-22 13:38:30+00:00\\ntraining/data/Covid6/data_2020-05-15.json       1560    2020-05-22 13:38:31+00:00\\n....\\n\"\n        })\n      }), \"\\n\", _jsx(_components.h3, {\n        children: \"Downloading image files\"\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"To download files using Boto3, if you don't have them locally already:\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          children: \"import os\\nimport boto3\\n\\nBUCKET_NAME = \\\"nccid-data-warehouse-prod\\\"\\n\\ndef downloadPrefixFromS3(bucketName, prefix):\\n   \\\"\\\"\\\"This function takes a remote S3 bucket and a prefix,\\n   and downloads all the objects from there, that are not\\n   already stored locally.\\n   \\\"\\\"\\\"\\n   s3 = boto3.resource(\\\"s3\\\")\\n   bucket = s3.Bucket(name=bucketName)\\n   for obj in bucket.objects.filter(Prefix=prefix):\\n      key = obj.key\\n      if os.path.exists(key) and os.stat(key).st_size == obj.size:\\n            # If the file exists and it's the right size, we should be done\\n            print(f\\\"{key}: already have locally\\\")\\n            continue\\n      if not os.path.exists(os.path.dirname(key)):\\n            os.makedirs(os.path.dirname(key))\\n      print(f\\\"{key}: downloading\\\")\\n      bucket.download_file(key, key)\\n\\n# Download a specific prefix. Don't forget the final \\\"/\\\" to limit to the exact prefix\\ndownloadPrefixFromS3(BUCKET_NAME, \\\"training/mri/\\\")\\n\"\n        })\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"The above code will create the folders corresponding to the remote\\nprefixes in the current working directory as needed, and only download\\nfiles that are not yet downloaded (similar to \", _jsx(_components.code, {\n          children: \"aws s3 sync\"\n        }), \".\"]\n      }), \"\\n\", _jsx(_components.h3, {\n        children: \"Opening image files\"\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"You can also access a remote DICOM image, download into memory and open\\nit with, for example with the \", _jsx(_components.a, {\n          href: \"https://github.com/pydicom/pydicom\",\n          children: \"PyDICOM\\nlibrary\"\n        }), \":\"]\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          children: \"from io import BytesIO\\n\\nimport boto3\\nimport pydicom\\n\\ns3 = boto3.resource(\\\"s3\\\")\\nbucket = s3.Bucket(name=\\\"nccid-data-warehouse-staging\\\")\\n\\nimage_name = \\\"training/xray/Covid1/1.2.3/A.B.C/x.y.z.dcm\\\"\\n\\nwith BytesIO() as tmp:\\n   print(f\\\"Downloading: {image_name}\\\")\\n   bucket.Object(key=image_name).download_fileobj(tmp)\\n   tmp.seek(0)\\n   # Do not read the image only the metadata here.\\n   # To also read the image, remove set stop_before_pixels to False\\n   image_data = pydicom.dcmread(tmp, stop_before_pixels=True)\\n   print(image_data)\\n\"\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"This code would result in an output such as:\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          children: \"Downloading: training/xray/Covid1/1.2.3/A.B.C/x.y.z.dcm\\n(0008, 0005) Specific Character Set              CS: 'ISO_IR 100'\\n(0008, 0008) Image Type                          CS: ['ORIGINAL', 'PRIMARY', '', 'RT', '', '', '', '', '150000']\\n(0008, 0016) SOP Class UID                       UI: Digital X-Ray Image Storage - For Presentation\\n...\\n\"\n        })\n      }), \"\\n\", _jsx(_components.h3, {\n        children: \"Loading a JSON file\"\n      }), \"\\n\", _jsxs(_components.p, {\n        children: [\"Similarly to the image download above, JSON files can also be directly\\naccessed, using the \", _jsx(_components.a, {\n          href: \"https://docs.python.org/3/library/json.html\",\n          children: \"built in Python json\\nlibrary\"\n        }), \" such as:\"]\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          className: \"language-python\",\n          children: \"import json\\nfrom io import BytesIO\\n\\nimport boto3\\n\\ns3 = boto3.resource(\\\"s3\\\")\\nbucket = s3.Bucket(name=\\\"nccid-data-warehouse-prod\\\")\\n\\njson_name = \\\"training/data/Covid1/data_2020-05-14.json\\n\\nwith BytesIO() as tmp:\\n   print(f\\\"Downloading: {json_name}\\\")\\n   bucket.Object(key=json_name).download_fileobj(tmp)\\n   tmp.seek(0)\\n   json_data = json.load(tmp)\\n   print(json.dumps(json_data, indent=4, sort_keys=True))\\n\"\n        })\n      }), \"\\n\", _jsx(_components.p, {\n        children: \"The output of the above code would be similar to this:\"\n      }), \"\\n\", _jsx(_components.pre, {\n        children: _jsx(_components.code, {\n          children: \"Downloading: training/data/Covid1/data_2020-05-14.json\\n{\\n   \\\"Pseudonym\\\": \\\"Covid1\\\",\\n   ...\\n}\\n\"\n        })\n      })]\n    });\n  }\n}\nreturn {\n  default: MDXContent\n};\nfunction _missingMdxReference(id, component) {\n  throw new Error(\"Expected \" + (component ? \"component\" : \"object\") + \" `\" + id + \"` to be defined: you likely forgot to import, pass, or provide it.\");\n}\n","frontmatter":{},"scope":{"title":"Accessing the NCCID data","summary":"The data is stored in Amazon Web Services S3.  Once your organisation has been granted access, NHSX will send AWS credentials by encrypted email.  The credentials will allow accessing the data.","category":"Technical Documentation"}},"meta":{"title":"Accessing the NCCID data","summary":"The data is stored in Amazon Web Services S3.  Once your organisation has been granted access, NHSX will send AWS credentials by encrypted email.  The credentials will allow accessing the data.","category":"Technical Documentation"}},"__N_SSG":true},"page":"/[slug]","query":{"slug":"data-access"},"buildId":"Kp19OSf7eTlhkBZK5owHZ","assetPrefix":"/covid-chest-imaging-database","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>